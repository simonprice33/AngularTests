{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Projects\\\\IISHF\\\\ITC Frontend\\\\IISHF-Events-Manager\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nlet CreateEventComponent = class CreateEventComponent {\n  constructor(calendar, formatter, renderer) {\n    this.calendar = calendar;\n    this.formatter = formatter;\n    this.renderer = renderer;\n    this.form = new FormGroup({});\n    this.fromDate = calendar.getToday();\n    this.toDate = calendar.getNext(calendar.getToday(), 'd', 10);\n  }\n\n  ngOnInit() {\n    throw new Error('Method not implemented.');\n  }\n\n  ngAfterViewInit() {\n    let dpFrom = document.querySelector('input[name=dpFromDate]');\n    this.renderer.listen(dpFrom, \"keydown\", evt => {\n      if (evt.key == 'Enter') {\n        console.log('From date selected', this.fromDate);\n      }\n    });\n    let dpTo = document.querySelector('input[name=dpToDate]');\n    this.renderer.listen(dpTo, \"keydown\", evt => {\n      if (evt.key == 'Enter') {\n        console.log('To date selected', this.toDate);\n      }\n    });\n  }\n\n  isHovered(date) {\n    return this.fromDate && !this.toDate && this.hoveredDate && date.after(this.fromDate) && date.before(this.hoveredDate);\n  }\n\n  isInside(date) {\n    return date.after(this.fromDate) && date.before(this.toDate);\n  }\n\n  isRange(date) {\n    return date.equals(this.fromDate) || date.equals(this.toDate) || this.isInside(date) || this.isHovered(date);\n  } // // validateInput(currentValue: NgbDate, input: string): NgbDate {\n  // //     const parsed = this.formatter.parse(input);\n  // //     return parsed && this.calendar.isValid(NgbDate.from(parsed)) ? NgbDate.from(parsed) : currentValue;\n  // // }\n\n\n  onDateSelection(date) {\n    if (!this.fromDate && !this.toDate) {\n      this.fromDate = date;\n      console.log('setting from date'); //this.emitFromDate();\n    } else if (this.fromDate && !this.toDate && date.after(this.fromDate)) {\n      this.toDate = date;\n      console.log('setting to date');\n    } else {\n      this.fromDate = date;\n      console.log('setting from date');\n    }\n  }\n\n  onSubmit(action) {\n    return _asyncToGenerator(function* () {})();\n  }\n\n};\n\n__decorate([ViewChild('datepicker', {\n  static: false\n})], CreateEventComponent.prototype, \"ngbDatepicker\", void 0);\n\nCreateEventComponent = __decorate([Component({\n  selector: 'app-create-event',\n  templateUrl: './create-event.component.html',\n  styleUrls: ['./create-event.component.css']\n})], CreateEventComponent);\nexport { CreateEventComponent };","map":{"version":3,"sources":["C:/Projects/IISHF/ITC Frontend/IISHF-Events-Manager/src/app/event/create-event/create-event.component.ts"],"names":["__decorate","Component","ViewChild","FormGroup","CreateEventComponent","constructor","calendar","formatter","renderer","form","fromDate","getToday","toDate","getNext","ngOnInit","Error","ngAfterViewInit","dpFrom","document","querySelector","listen","evt","key","console","log","dpTo","isHovered","date","hoveredDate","after","before","isInside","isRange","equals","onDateSelection","onSubmit","action","static","prototype","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nlet CreateEventComponent = class CreateEventComponent {\r\n    constructor(calendar, formatter, renderer) {\r\n        this.calendar = calendar;\r\n        this.formatter = formatter;\r\n        this.renderer = renderer;\r\n        this.form = new FormGroup({});\r\n        this.fromDate = calendar.getToday();\r\n        this.toDate = calendar.getNext(calendar.getToday(), 'd', 10);\r\n    }\r\n    ngOnInit() {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n    ngAfterViewInit() {\r\n        let dpFrom = document.querySelector('input[name=dpFromDate]');\r\n        this.renderer.listen(dpFrom, \"keydown\", (evt) => {\r\n            if (evt.key == 'Enter') {\r\n                console.log('From date selected', this.fromDate);\r\n            }\r\n        });\r\n        let dpTo = document.querySelector('input[name=dpToDate]');\r\n        this.renderer.listen(dpTo, \"keydown\", (evt) => {\r\n            if (evt.key == 'Enter') {\r\n                console.log('To date selected', this.toDate);\r\n            }\r\n        });\r\n    }\r\n    isHovered(date) {\r\n        return this.fromDate && !this.toDate && this.hoveredDate && date.after(this.fromDate) && date.before(this.hoveredDate);\r\n    }\r\n    isInside(date) {\r\n        return date.after(this.fromDate) && date.before(this.toDate);\r\n    }\r\n    isRange(date) {\r\n        return date.equals(this.fromDate) || date.equals(this.toDate) || this.isInside(date) || this.isHovered(date);\r\n    }\r\n    // // validateInput(currentValue: NgbDate, input: string): NgbDate {\r\n    // //     const parsed = this.formatter.parse(input);\r\n    // //     return parsed && this.calendar.isValid(NgbDate.from(parsed)) ? NgbDate.from(parsed) : currentValue;\r\n    // // }\r\n    onDateSelection(date) {\r\n        if (!this.fromDate && !this.toDate) {\r\n            this.fromDate = date;\r\n            console.log('setting from date');\r\n            //this.emitFromDate();\r\n        }\r\n        else if (this.fromDate && !this.toDate && date.after(this.fromDate)) {\r\n            this.toDate = date;\r\n            console.log('setting to date');\r\n        }\r\n        else {\r\n            this.fromDate = date;\r\n            console.log('setting from date');\r\n        }\r\n    }\r\n    async onSubmit(action) {\r\n    }\r\n};\r\n__decorate([\r\n    ViewChild('datepicker', { static: false })\r\n], CreateEventComponent.prototype, \"ngbDatepicker\", void 0);\r\nCreateEventComponent = __decorate([\r\n    Component({\r\n        selector: 'app-create-event',\r\n        templateUrl: './create-event.component.html',\r\n        styleUrls: ['./create-event.component.css']\r\n    })\r\n], CreateEventComponent);\r\nexport { CreateEventComponent };\r\n"]},"metadata":{},"sourceType":"module"}